# =============================================================================
# Coturn TURN Server Configuration
# =============================================================================
# Trading Room SaaS - WebRTC NAT Traversal
# =============================================================================

# Listener IP - use 0.0.0.0 to listen on all interfaces
listening-ip=0.0.0.0

# External IP (set to your public IP)
# external-ip=YOUR_PUBLIC_IP

# Listener ports
listening-port=3478
tls-listening-port=5349

# Relay ports range
min-port=49152
max-port=49200

# Use fingerprints in TURN messages
fingerprint

# Long-term credential mechanism
lt-cred-mech

# Realm for TURN server
realm=tradingroom.io

# Server name
server-name=turn.tradingroom.io

# User credentials (set via environment or this file)
# user=tradingroom:your-strong-password

# Log settings
log-file=/var/log/coturn/turnserver.log
verbose

# Don't allow peers on loopback
no-loopback-peers

# Don't allow peers on private IPs (adjust as needed)
# no-multicast-peers

# Enable STUN
stun-only=false

# Enable REST API for dynamic credentials (optional)
# use-auth-secret
# static-auth-secret=your-secret

# TLS/DTLS certificate (for secure connections)
# cert=/etc/coturn/cert.pem
# pkey=/etc/coturn/key.pem

# Cipher list for TLS
# cipher-list="ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256"

# Maximum bandwidth per session (in bytes per second)
# max-bps=1000000

# Total allocation quota
total-quota=100

# Max bytes per second per session
bps-capacity=0

# Process per-session events
proc-user-quota=0
user-quota=0

# Disable CLI
no-cli

# Disable REST API
# no-rest

# Enable mobility with ICE (MICE)
mobility

# WebRTC support
no-tcp
